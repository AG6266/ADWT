Slip 6
Q1)
<!DOCTYPE html>
<html lang=”en”>
<head>
<meta charset=”UTF-8”>
<meta name=”viewport” content=”width=device-width, initial-scale=1.0”>
<title>Sample Web Page</title>
<style>
Body {
Font-family: Arial, sans-serif;
Margin: 20px;
}
Header {
Text-align: center;
Padding: 10px;
Background-color: #f2f2f2;
}
Nav {
Margin: 10px 0;
}
Nav a {
Margin-right: 10px;
Text-decoration: none;
Color: #333;
}
Section {
Margin: 20px 0;
}
Img {
Max-width: 100%;
Height: auto;
Border-radius: 5px;
}
Table {
Border-collapse: collapse;
Width: 100%;
Margin-top: 20px;
}
Th, td {
Border: 1px solid #ddd;
Padding: 10px;
Text-align: left;
}
Th {
Background-color: #f2f2f2;
}
</style>
</head>
<body>
<header>
<img src=”logo.png” alt=”Company Logo” width=”150”>
<h1>Welcome to Our Website</h1>
</header>
<nav>
<a href=”#about”>About Us</a>
<a href=”#services”>Services</a>
<a href=”#contact”>Contact</a>
</nav>
<section id=”about”>
<h2>About Us</h2>
<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nulla facilisi. Proin a felis eget nisi consequat feugiat.</p>
<img src=”about_image.jpg” alt=”About Us Image”>
</section>
<section id=”services”>
<h2>Our Services</h2>
<p>We offer a wide range of services to meet your needs.</p>
<ul>
<li>Service 1</li>
<li>Service 2</li>
<li>Service 3</li>
</ul>
</section>
<section id=”contact”>
<h2>Contact Us</h2>
<p>Feel free to reach out to us:</p>
<address>
Email: <a href=mailto:info@example.com>info@example.com</a><br>
Phone: +1 (123) 456-7890
</address>
</section>
<table>
<thead>
<tr>
<th>Name</th>
<th>Age</th>
<th>Country</th>
</tr>
</thead>
<tbody>
<tr>
<td>John Doe</td>
<td>30</td>
<td>USA</td>
</tr>
<tr>
<td>Jane Smith</td>
<td>25</td>
<td>Canada</td>
</tr>
<tr>
<td>Bob Johnson</td>
<td>35</td>
<td>UK</td>
</tr>
</tbody>
</table>
</body>
</html>

Q2)


db.createCollection("companies");
db.companies.insertMany([
  { _id: 1, name: "LIC", location: "Mumbai" },
  { _id: 2, name: "HDFC Life", location: "Pune" },
  { _id: 3, name: "ICICI Prudential", location: "Delhi" },
  { _id: 4, name: "SBI Life", location: "Bangalore" },
  { _id: 5, name: "Max Life", location: "Chennai" }
]);


db.createCollection("policies");
db.policies.insertMany([
  { _id: 1, policy_name: "Komal Jeevan", policy_type: "Monthly", premium_amount: 5000, company_id: 1 },
  { _id: 2, policy_name: "Jeevan Anand", policy_type: "Yearly", premium_amount: 60000, company_id: 1 },
  { _id: 3, policy_name: "Smart Protect", policy_type: "Half Yearly", premium_amount: 25000, company_id: 2 },
  { _id: 4, policy_name: "Wealth Builder", policy_type: "Monthly", premium_amount: 7000, company_id: 3 },
  { _id: 5, policy_name: "Child Future", policy_type: "Half Yearly", premium_amount: 20000, company_id: 4 }
]);


db.createCollection("customers");
db.customers.insertMany([
  { _id: 1, name: "Amit", age: 35, policy_ids: [1, 2] },
  { _id: 2, name: "Neha", age: 29, policy_ids: [3] },
  { _id: 3, name: "Raj", age: 42, policy_ids: [1, 4] },
  { _id: 4, name: "Sonal", age: 31, policy_ids: [5] },
  { _id: 5, name: "Vikram", age: 38, policy_ids: [2, 3] }
]);


a. List the details of customers who have taken the “Komal Jeevan” policy:
var policy = db.policies.findOne({ policy_name: "Komal Jeevan" });

db.customers.find(
  { policy_ids: policy._id }
);

b. Display the average premium amount:
db.policies.aggregate([
  { $group: { _id: null, avgPremium: { $avg: "$premium_amount" } } }
]);


c. Increase the premium amount by 5% for policy type “Monthly”:
db.policies.updateMany(
  { policy_type: "Monthly" },
  { $mul: { premium_amount: 1.05 } }
);

d. Count the number of customers who have taken a policy type “Half Yearly”:
var halfYearlyPolicies = db.policies.find({ policy_type: "Half Yearly" }).map(p => p._id);

db.customers.countDocuments(
  { policy_ids: { $in: halfYearlyPolicies } }
);
